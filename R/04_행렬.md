# 행렬(matrix)

### 1. 행렬 만드는 법

- rbind, cbind

  ```R
  v1 <- c(1,2,3)
  v2 <- c(4,5,6)
  v3 <- c(7,8,9)
  
  # 행 기준으로 행렬 만드는 rbind
  mat1 <- rbind(v1,v2,v3)
  # 	 [,1] [,2] [,3]
  # v1    1    2    3
  # v2    4    5    6
  # v3    7    8    9
  
  # 열 기준으로 행렬 만드는 cbind
  mat2 <- cbind(v1,v2,v3)
  #	   v1 v2 v3
  # [1,]  1  4  7
  # [2,]  2  5  8
  # [3,]  3  6  9
  ```

  

- matrix

  ```R
  d <- 1:9
  mat3 <- matrix(d, nrow=3, byrow=T)
  #	   [,1] [,2] [,3]
  # [1,]    1    2    3
  # [2,]    4    5    6
  # [3,]    7    8    9
  
  mat3 * 3 # 각 요소에 곱하기 3
  mat3 * c(10,20,30) # n행n열에 각 위치에 맞는 수 곱하기
  #      [,1] [,2] [,3]
  # [1,]   10   20   30
  # [2,]   80  100  120
  # [3,]  210  240  270
  
  # 행과 열에 label 붙이기
  mat4 <- matrix(1:12, nrow = 3,
                 dimnames = list(c('R1','R2','R3'),
                                 c('C1','C2','C3','C4')))
  #    C1 C2 C3 C4
  # R1  1  4  7 10
  # R2  2  5  8 11
  # R3  3  6  9 12
  ```



### 2. 행렬에서 원소 접근

- index 접근

  ```R
  mat4[7] # 7번째 원소 접근
      [1] 7
  
  mat4[1, ] # 1행 전체
      A  B  C  D 
      1  4  7 10 
  
  mat4[,3] # 3열 전체
  	R1 R2 R3 
   	7  8  9
  
  mat4[3,4] # 3행 4열
  	[1] 12
  
  mat4[, 2:4] # 2~4열 전체 : mat[c(2,3,4)]
  	   B C  D
      R1 4 7 10
      R2 5 8 11
      R3 6 9 12
  
  mat4[,-2] # 2열을 제외한 전체
  	   A C  D
      R1 1 7 10
      R2 2 8 11
      R3 3 9 12
  
  mat4['R1','A']
  	[1] 1
  ```

  

- apply

  ```R
  mat1
  	[,1] [,2] [,3]
  v1    1    2    3
  v2    4    5    6
  v3    7    8    9
  
  apply(mat1, 1, max) # 행 단위로 가장 큰 값을 출력
  	v1 v2 v3 
   	3  6  9 
  
  apply(mat1, 2, max) # 열 방향에서 가장 큰 값을 출력
  	[1] 7 8 9
  ```

  

- rownames, colnames

  ```R
  colnames(mat1) <- c('A','B','C')
  rownames(mat1) <- c('kim','lee','seo')
  mat1
      A B C
  kim 1 2 3
  lee 4 5 6
  seo 7 8 9
  ```



#####  행렬 원소 변환

- 연산자

  ```R
  A <- matrix(1:4, nrow = 2)
       [,1] [,2]
  [1,]    1    3
  [2,]    2    4
  
  A+A
       [,1] [,2]
  [1,]    2    6
  [2,]    4    8
  A %*% A # 행렬 곱하기 연산자
       [,1] [,2]
  [1,]    7   15
  [2,]   10   22
  
  A %*% solve(A) # solve(A) : 역행렬
       [,1] [,2]
  [1,]    1    0
  [2,]    0    1
  ```



##### 행렬 구조

- nrow, ncol, dim

  ```R
  nrow(A) # 행의 개수
  ncol(A) # 열의 개수
  dim(A) # 행, 열의 개수
  ```

  